[
 {lager, [
   % Print coloured log messages on terminal
   {colored, true},
   % Store original copy of standard Erlang crash report in dedicated file (in addition to the more readable lager ERROR message)
   {crash_log, "log/crash-reports.log"},
   % Rotate crash log file
   {crash_log_size, 10485760}, {crash_log_date, "$W0D23"}, {crash_log_count, 4},
   % Register log handlers ...
   {handlers, [
     {lager_console_backend, critical},
     {lager_file_backend, [
       {file, "log/controlhub.log"}, 
       {level, notice},
       {formatter, lager_default_formatter},
       {formatter_config, [date, " ", time, " [", severity, "] ", pid, " - ", message, "\n"]},
       % Log rotation
       {size, 10485760}, {date, "$W0D23"}, {count, 4}
     ]}
   ]}
 ]},

 {controlhub,
   [{max_in_flight, 16}]
 },

 %% Replace above default values with user-defined configuration
 "controlhub.config"
].

