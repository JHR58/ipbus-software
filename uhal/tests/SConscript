## Sconstruct file for the IPbusClient package
#	@author Andrew W. Rose
#	@author Simon Fayer
#	@date 2010

## Import the environment from the SConstruct File
Import('env')

localenv = env.Clone()
localenv.VariantDir( localenv.SrcBuildPath , 'src/common' , duplicate=0 )

## Add default libs
localenv.Append( 
	LIBS = [ 'uhal' , 'BoostSpiritGrammars' , 
#	'pantheios.1.be.fprintf.gcc41' , 'pantheios.1.bec.fprintf.gcc41'	#to use the stock logging back end, include this line
	'uhal.pantheios.be.colour' 										#to use the custom, coloured back end, include this line instead
	] 

)  

## Compile the IPbusClient Unit Test as an executable
localenv.Program( 
	target = localenv.SrcBuildPath+'/test_uhal', 
	source = [ localenv.SrcBuildPath+'/test_uhal.cpp' ]
)

localenv.Program( 
	target = localenv.SrcBuildPath+'/test_timing', 
	source = [ localenv.SrcBuildPath+'/test_timing.cpp' ]
)

localenv.Program( 
	target = localenv.SrcBuildPath+'/DummyHardwareUdp', 
	source = [ localenv.SrcBuildPath+'/DummyHardwareUdp.cpp' ]
)
